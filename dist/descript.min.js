/*! descript 0.0.1 (https://github.com/mobify/descript) */
!function(a){if("function"==typeof define&&define.amd)define(["$"],a);else{var b=window.Zepto||window.jQuery;a(b)}}(function(a){var b,c="default",d=function(a){return!!a},e=function(b){return a(b).map(function(){return this})},f={src:function(b,c){return b.hasAttribute("x-src")&&a(b).is('[x-src*="'+c+'"]')},contains:function(b,c){return!b.hasAttribute("x-src")&&a(b).html().indexOf(c)>=0}},g=function(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=0>b?a.length+b:b,a.push.apply(a,d)},h=function(){this._containers={},this._injectedScripts={},this._containers[c]=a('script[x-src], script[type="text/mobify-script"]')};return h.init=function(){return b||(b=new h)},h.prototype._process=function(a,b){var d=this._containers[c].get();for(var h in a)if(a.hasOwnProperty(h))for(var i=a[h].reverse(),j=f[h],k=i.length;k--;)for(var l=d.length;l--;){var m=d[l];j(m,i[k])&&(b&&b(l,m),g(d,l))}this._containers[c]=e(d)},h.prototype.add=function(a,b){var c=this._containers[a]||[];return this._process(b,function(a,b){c[a]=b}),this._containers[a]=e(c.filter(d)),this},h.prototype.remove=function(a){return this._process(a),this},h.prototype.injectScript=function(b,c,d,g){for(var h=this._containers[c].toArray(),i=Object.keys(d)[0],j=f[i],k=h.length,l=function(){return a("<script />").attr("type","text/mobify-script").html("window.descript.invoke('"+b+"');")[0]};k--;)if(j(h[k],d[i])){h.splice(k+1,0,l()),this._containers[c]=e(h);break}this._injectedScripts[b]=g},h.prototype.invoke=function(a){this._injectedScripts[a]()},h.prototype.get=function(a){return a?this._containers[a]:this._containers},h});