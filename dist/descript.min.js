/*! descript 0.0.1 (https://github.com/mobify/descript) */
!function(a){if("function"==typeof define&&define.amd)define(["$"],a);else{var b=window.Zepto||window.jQuery;a(b)}}(function(a){var b="default",c=function(a){return!!a},d=function(b){return a(b).map(function(){return this})},e={src:function(b,c){return b.hasAttribute("x-src")&&a(b).is('[x-src*="'+c+'"]')},contains:function(b,c){return!b.hasAttribute("x-src")&&a(b).html().indexOf(c)>=0}},f=function(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=0>b?a.length+b:b,a.push.apply(a,d)},g=function(){return g.prototype._instance?g.prototype._instance:(g.prototype._instance=this,this._containers={},void(this._containers[b]=a('script[x-src], script[type="text/mobify-script"]').remove()))};return g.init=function(){return g.prototype._instance||(g.prototype._instance=new g)},g.prototype._process=function(a,c){var g=this.get(b).toArray();for(var h in a)if(a.hasOwnProperty(h))for(var i=a[h].reverse(),j=e[h],k=i.length;k--;)for(var l=g.length;l--;){var m=g[l];j(m,i[k])&&(c&&c(l,m),f(g,l))}this._containers[b]=d(g)},g.prototype.add=function(a,b){var e=this.get(a)||[];return this._process(b,function(a,b){e[a]=b}),this._containers[a]=d(e.filter(c)),this},g.prototype.remove=function(a){return this._process(a),this},g.prototype.injectScript=function(b,c,f,g){for(var h=this.get(c).toArray(),i=Object.keys(f)[0],j=e[i],k=h.length,l=function(){return a("<script />").attr("type","text/mobify-script").html("("+g.toString()+")();")[0]};k--;)if(j(h[k],f[i])){h.splice(k+1,0,l()),this._containers[c]=d(h);break}},g.prototype.get=function(a){return a?this._containers[a]:this._containers},g.prototype.replace=function(a,b,c,d){for(var f=this.get(a).toArray(),g=Object.keys(b)[0],h=e[g],i=f.length;i--;){var j=f[i];if(h(j,b[g])){var k=[];4===arguments.length?k.push({pattern:c,replacement:d}):k=c;for(var l=0,m=k.length;m>l;l++){var n=k[l];j.html(j.html().replace(n.pattern,n.replacement))}break}}},g});